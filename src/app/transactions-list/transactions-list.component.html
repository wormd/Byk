
<nav class="navbar pr-0 pl-0">
  <div class="d-flex mr-auto">
    <input id='change-account' type="text" class="form-control"
           placeholder="Go to Account"
           [(ngModel)]="accountModel"
           [ngbTypeahead]="accountSearch"
           [inputFormatter]="formatter"
           [resultFormatter]="formatter"
           [editable]='false'
           (selectItem)="changeAccount($event)"/>
  </div>
  <div class="ml-2 ml-auto mt-auto">
    <app-pagination
      [labels]="months"
      [currentIndex]="monthIndex"
      (filterclick)="changeMonth($event)">
    </app-pagination>
    </div>
    <div class="ml-2 mt-auto">
      <app-pagination
        [labels]="years"
        [currentIndex]="yearIndex"
        (filterclick)="changeYear($event)">
      </app-pagination>
    </div>
</nav>

<table class="table table-bordered table-striped">
    <thead>
    <tr class="rounded-top">
      <th scope="col" colspan="5" class="border-bottom-0 text-center"> {{ account.name }}</th>
    </tr>
    <tr>
      <th scope="col" style="width: 8%">Data</th>
      <th scope="col" style="width: 72%">Description</th>
      <th scope="col" style="">Amount</th>
      <th scope="col" style="">Target</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
      <tr *ngIf="!transactions" class="spinner-border" role="status">
        <td class="d-flex justify-content-center sr-only" colspan="5">Loading...</td>
      </tr>
      <tr *ngIf="transactions && transactions.length === 0">
        <td colspan="5" class="text-center">This period is empty</td>
      </tr>
      <tr *ngFor="let line of transactions" class="pt-1 pb-1">
        <td>{{ line.date }}</td>
        <td>{{ line.descr }}</td>
        <td>&euro; {{ beautifyNum(line.amount) }}</td>
        <td>{{ getAccountName(line.target) }}</td>
        <td><button type="button" class="btn fa fa-info bg-transparent"></button>
        <button type="button" class="btn fa fa-times bg-transparent" (click)="onClickDelete(line.id)"></button></td>
      </tr>
      <tr class="">
        <th scope="col" colspan="2" class="text-right"> Total </th>
        <th scope="col" colspan="1" class="text-left">&euro; {{ beautifyNum(total) }}</th>
        <th scope="col" colspan="2" class=""></th>
      </tr>
    </tbody>
</table>
